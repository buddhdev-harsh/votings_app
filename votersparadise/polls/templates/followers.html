{% extends 'layout.html' %}

{% block title %}{{request.user|truncatechars:10}}'s Followers{% endblock %}

{%block style%}
<style>
    .avatar {
      border: 0.3rem solid rgba(#fff, 0.3);
      margin-top: -6rem;
      margin-bottom: 1rem;
      max-width: 9rem;
    }
  
  
  
    @media (max-width: 600px) {
  
      .card-img-top {
        height: 0px;
        width: 0px;
      }
  
      .avatar {
        float: left;
        height: 60px;
        width: 60px;
        margin-top: 0;
        margin-bottom: 0;
      }
  
  
    }
    
    .profilepic {
      margin: 0px auto 0px auto;
    }
  
    .container {
      width: 100%;
      padding-right: 15px;
      padding-left: 15px;
      margin-right: auto;
      margin-left: auto;
    }
    </style>
{%endblock%}
{%block navbar%}
<div class="dropdown">
    <button class="btn btn-info dropdown-toggle ml-2" type="button" id="dropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Settings
    </button>
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
        <div class="col">
            <div class="d-flex justify-content-center my-2">
                <div class="d-flex flex-column">

                    <div class="profilepic">
                        <img class="rounded-circle" width="40px" height="40px"
                            src="{{request.user.name.profile_pic.url}}">
                    </div>
                    <div class="profilename">
                        <strong>Hello, {{request.user |truncatechars:10}}</strong>
                    </div>
                </div>
            </div>
            <div class="entity">
                <a class="dropdown-item border rounded my-1" href="/profile">Profile<svg
                        class="bi bi-person-fill ml-1 mb-1" width="1em" height="1em" viewBox="0 0 16 16"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                    </svg></a>

                <a class="dropdown-item border rounded my-1 text-left"
                    href="/following">Following<strong>{{following}}</strong></a>
                <a class="dropdown-item border rounded my-1" href="/followers">Followers<strong>
                        {{followers}}</strong></a>
                <a class="dropdown-item border rounded my-1" href="/logout">Logout</a>
            </div>

        </div>
    </div>
</div>
{%endblock%}

{%block question%}
<div class="container">
    <div class="row" id="head">
        <div class="col">
            <div class="bg-dark p-3 my-3 text-white-50 rounded shadow-sm">
                <h3>Followers:</h3>
            </div>
        </div>
    </div>
    <div class="row row-cols-1 row-cols-md-4">

        {% if result %}
        {% for user in result %}
        <div class="col mb-4">

            <div class="card">
                <img src="https://i.stack.imgur.com/vhoa0.jpg" class="card-img-top" alt="..." height="100px"
                    width="50px">
                <div class="card-body text-center">
                    <img class="avatar rounded-circle" src="{{user.user.name.profile_pic.url}}" alt="userImage">
                    <h5 class="card-title">{{user.user.username}}</h5>
                    <p class="card-text">{{user.user.first_name}} {{user.user.last_name}}</p>
                </div>
                <small class="text-muted">Date of Join: <strong>{{user.user.date_joined.date}}</strong></small>

                <div class="card-footer d-flex justify-content-center">

                    <form class="info_class" action="removeuser" method="POST">
                        {% csrf_token %}
                        <input type="hidden" id="removeusername" name="removeusername" value="{{user.user}}">

                        <button type="submit" class="btn btn-outline-danger infobtn">Remove</button>
                        <a class="btn btn-outline-info" href="userprofile">More Info</a>
                    </form>


                </div>
            </div>
        </div>
        {% endfor %}



    </div>
    {%else%}
    <div class="row">
        <div class="col">
            <div class="row" id="head">
                <div class="col">
                    <div class="bg-dark p-3 my-3 text-white-50 rounded shadow-sm">
                        <h3>your family's prayers are allways following you ;). All the best</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}


</div>


{%endblock%}